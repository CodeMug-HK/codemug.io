<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Kate & Ken Wedding Invitation</title>
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="">
    <meta property="og:title" content="Kate & Ken Wedding Invitation">
    <meta property="og:description" content="You're invited to celebrate Kate & Ken's wedding on December 1st, 2025 at The Henderson - Cloud 39, Hong Kong">
    <meta property="og:image" content="./preview.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="">
    <meta property="twitter:title" content="Kate & Ken Wedding Invitation">
    <meta property="twitter:description" content="You're invited to celebrate Kate & Ken's wedding on December 1st, 2025 at The Henderson - Cloud 39, Hong Kong">
    <meta property="twitter:image" content="./preview.png">
    <style>
        :root {
            --safe-area-inset-top: env(safe-area-inset-top);
            --safe-area-inset-right: env(safe-area-inset-right);
            --safe-area-inset-bottom: env(safe-area-inset-bottom);
            --safe-area-inset-left: env(safe-area-inset-left);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            font-family: Arial, sans-serif;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f5f5f5;
            position: fixed;
            top: 0;
            left: 0;
        }

        .card-wrapper {
            perspective: 1000px;
            width: 100vw;
            height: 100vh;
            z-index: 1;
            position: relative;
        }

        .card {
            position: relative;
            width: 100%;
            height: 100%;
            cursor: pointer;
            transition: transform 0.8s ease-in-out;
            transform-style: preserve-3d;
        }

        .card .front,
        .card .back {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            background-color: white;
        }

        .card .back {
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
        }

        /* Handle different screen orientations for back card only */
        @media screen and (orientation: landscape) {
            .card .back {
                background-size: auto 100%;
            }
        }

        @media screen and (orientation: portrait) {
            .card .back {
                background-size: 100% auto;
            }
        }

        .card .front {
            z-index: 2;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: max(60px, var(--safe-area-inset-top)) max(20px, var(--safe-area-inset-right)) max(60px, var(--safe-area-inset-bottom)) max(20px, var(--safe-area-inset-left));
            position: relative;
        }

        .front-image {
            width: 100%;
            height: 90%;
            object-fit: contain;
            max-width: 100%;
            max-height: 100%;
            position: relative;
            bottom: max(60px, var(--safe-area-inset-bottom));
        }

        .card .back {
            transform: rotateY(180deg);
            background-image: url('./back.jpg');
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding-bottom: 50px;
        }

        .card-wrapper.flipped .card {
            transform: rotateY(180deg);
        }

        .swipe-hint {
            position: absolute;
            bottom: max(60px, var(--safe-area-inset-bottom));
            right: 10px;
            background: #AA8159;
            border-radius: 50%;
            width: 56px;
            height: 56px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            z-index: 15;
            animation: pulseHint 2s infinite ease-in-out;
            pointer-events: none;
            box-shadow: 0 4px 15px rgba(170, 129, 89, 0.4);
        }

        /* Fallback for browsers that don't support env() */
        @supports not (bottom: env(safe-area-inset-bottom)) {
            .swipe-hint {
                bottom: 40px;
                right: 20px;
            }
        }

        .swipe-hint svg {
            width: 24px;
            height: 24px;
            fill: currentColor;
        }

        .card-wrapper.flipped .swipe-hint {
            display: none;
        }

        @keyframes pulseHint {
            0%, 100% { 
                opacity: 0.6; 
                transform: translateX(-50%) scale(0.95);
            }
            50% { 
                opacity: 1; 
                transform: translateX(-50%) scale(1);
            }
        }


        /* Fireworks CSS */
        @keyframes firework {
            0% { transform: translate(var(--x), var(--initialY)); width: var(--initialSize); opacity: 1; }
            50% { width: 0.5vmin; opacity: 1; }
            100% { width: var(--finalSize); opacity: 0; }
        }

        .firework,
        .firework::before,
        .firework::after {
            --initialSize: 0.5vmin;
            --finalSize: 45vmin;
            --particleSize: 0.2vmin;
            --color1: yellow;
            --color2: khaki;
            --color3: white;
            --color4: lime;
            --color5: gold;
            --color6: mediumseagreen;
            --y: -30vmin;
            --x: -50%;
            --initialY: 60vmin;
            content: "";
            animation: firework 2s infinite;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, var(--y));
            width: var(--initialSize);
            aspect-ratio: 1;
            z-index: 10;
            background: 
                radial-gradient(circle, var(--color1) var(--particleSize), #0000 0) 50% 0%,
                radial-gradient(circle, var(--color2) var(--particleSize), #0000 0) 100% 50%,
                radial-gradient(circle, var(--color3) var(--particleSize), #0000 0) 50% 100%,
                radial-gradient(circle, var(--color4) var(--particleSize), #0000 0) 0% 50%,
                radial-gradient(circle, var(--color5) var(--particleSize), #0000 0) 80% 90%,
                radial-gradient(circle, var(--color6) var(--particleSize), #0000 0) 95% 90%,
                radial-gradient(circle, var(--color1) var(--particleSize), #0000 0) 90% 70%,
                radial-gradient(circle, var(--color2) var(--particleSize), #0000 0) 100% 60%,
                radial-gradient(circle, var(--color3) var(--particleSize), #0000 0) 55% 80%,
                radial-gradient(circle, var(--color4) var(--particleSize), #0000 0) 70% 77%,
                radial-gradient(circle, var(--color5) var(--particleSize), #0000 0) 22% 90%,
                radial-gradient(circle, var(--color6) var(--particleSize), #0000 0) 45% 90%,
                radial-gradient(circle, var(--color1) var(--particleSize), #0000 0) 33% 70%,
                radial-gradient(circle, var(--color2) var(--particleSize), #0000 0) 10% 60%,
                radial-gradient(circle, var(--color3) var(--particleSize), #0000 0) 31% 80%,
                radial-gradient(circle, var(--color4) var(--particleSize), #0000 0) 28% 77%,
                radial-gradient(circle, var(--color5) var(--particleSize), #0000 0) 13% 72%,
                radial-gradient(circle, var(--color6) var(--particleSize), #0000 0) 80% 10%,
                radial-gradient(circle, var(--color1) var(--particleSize), #0000 0) 95% 14%,
                radial-gradient(circle, var(--color2) var(--particleSize), #0000 0) 90% 23%,
                radial-gradient(circle, var(--color3) var(--particleSize), #0000 0) 100% 43%,
                radial-gradient(circle, var(--color4) var(--particleSize), #0000 0) 85% 27%,
                radial-gradient(circle, var(--color5) var(--particleSize), #0000 0) 77% 37%,
                radial-gradient(circle, var(--color6) var(--particleSize), #0000 0) 60% 7%,
                radial-gradient(circle, var(--color1) var(--particleSize), #0000 0) 22% 14%,
                radial-gradient(circle, var(--color1) var(--particleSize), #0000 0) 45% 20%,
                radial-gradient(circle, var(--color1) var(--particleSize), #0000 0) 33% 34%,
                radial-gradient(circle, var(--color1) var(--particleSize), #0000 0) 10% 29%,
                radial-gradient(circle, var(--color1) var(--particleSize), #0000 0) 31% 37%,
                radial-gradient(circle, var(--color1) var(--particleSize), #0000 0) 28% 7%,
                radial-gradient(circle, var(--color1) var(--particleSize), #0000 0) 13% 42%;
            background-size: var(--initialSize) var(--initialSize);
            background-repeat: no-repeat;
        }

        .firework::before {
            --x: -50%;
            --y: -50%;
            --initialY: -50%;
            transform: translate(-50%, -50%) rotate(40deg) scale(1.3) rotateY(40deg);
        }

        .firework::after {
            --x: -50%;
            --y: -50%;
            --initialY: -50%;
            transform: translate(-50%, -50%) rotate(170deg) scale(1.15) rotateY(-30deg);
        }

        .firework:nth-child(2) {
            --x: 30vmin;
        }

        .firework:nth-child(2),
        .firework:nth-child(2)::before,
        .firework:nth-child(2)::after {
            --color1: pink;
            --color2: violet;
            --color3: fuchsia;
            --color4: orchid;
            --color5: plum;
            --color6: lavender;
            --finalSize: 40vmin;
            left: 30%;
            top: 60%;
            animation-delay: -0.25s;
        }

        .firework:nth-child(3) {
            --x: -30vmin;
            --y: -50vmin;
        }

        .firework:nth-child(3),
        .firework:nth-child(3)::before,
        .firework:nth-child(3)::after {
            --color1: cyan;
            --color2: lightcyan;
            --color3: lightblue;
            --color4: PaleTurquoise;
            --color5: SkyBlue;
            --color6: lavender;
            --finalSize: 35vmin;
            left: 70%;
            top: 60%;
            animation-delay: -0.4s;
        }

        .firework:nth-child(4),
        .firework:nth-child(4)::before,
        .firework:nth-child(4)::after {
            --color1: red;
            --color2: orange;
            --color3: coral;
            --color4: tomato;
            --color5: crimson;
            --color6: salmon;
            --finalSize: 42vmin;
            left: 20%;
            top: 40%;
            animation-delay: -0.6s;
        }

        .firework:nth-child(5),
        .firework:nth-child(5)::before,
        .firework:nth-child(5)::after {
            --color1: purple;
            --color2: magenta;
            --color3: hotpink;
            --color4: mediumorchid;
            --color5: blueviolet;
            --color6: mediumpurple;
            --finalSize: 38vmin;
            left: 80%;
            top: 30%;
            animation-delay: -0.8s;
        }

        .firework:nth-child(6),
        .firework:nth-child(6)::before,
        .firework:nth-child(6)::after {
            --color1: limegreen;
            --color2: springgreen;
            --color3: mediumspringgreen;
            --color4: forestgreen;
            --color5: chartreuse;
            --color6: lawngreen;
            --finalSize: 36vmin;
            left: 15%;
            top: 70%;
            animation-delay: -1.0s;
        }

        .firework:nth-child(7),
        .firework:nth-child(7)::before,
        .firework:nth-child(7)::after {
            --color1: gold;
            --color2: orange;
            --color3: darkorange;
            --color4: goldenrod;
            --color5: darkgoldenrod;
            --color6: wheat;
            --finalSize: 44vmin;
            left: 85%;
            top: 75%;
            animation-delay: -1.2s;
        }

        .firework:nth-child(8),
        .firework:nth-child(8)::before,
        .firework:nth-child(8)::after {
            --color1: deepskyblue;
            --color2: dodgerblue;
            --color3: royalblue;
            --color4: steelblue;
            --color5: cornflowerblue;
            --color6: lightskyblue;
            --finalSize: 39vmin;
            left: 60%;
            top: 20%;
            animation-delay: -1.4s;
        }

        .firework:nth-child(9),
        .firework:nth-child(9)::before,
        .firework:nth-child(9)::after {
            --color1: lightcoral;
            --color2: indianred;
            --color3: rosybrown;
            --color4: lightpink;
            --color5: palevioletred;
            --color6: mistyrose;
            --finalSize: 37vmin;
            left: 40%;
            top: 80%;
            animation-delay: -1.6s;
        }

        .firework:nth-child(10),
        .firework:nth-child(10)::before,
        .firework:nth-child(10)::after {
            --color1: turquoise;
            --color2: aquamarine;
            --color3: mediumturquoise;
            --color4: darkturquoise;
            --color5: cadetblue;
            --color6: powderblue;
            --finalSize: 41vmin;
            left: 75%;
            top: 45%;
            animation-delay: -1.8s;
        }

        .button-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: center;
            transform: translateY(200px);
            opacity: 0;
            transition: transform 1.2s ease-out 0.8s, opacity 1.2s ease-out 0.8s;
            padding-bottom: max(60px, var(--safe-area-inset-bottom));
        }

        /* Fallback for browsers that don't support env() */
        @supports not (bottom: env(safe-area-inset-bottom)) {
            .button-container {
                padding-bottom: 40px;
            }
        }

        .card-wrapper.flipped .button-container,
        .card-wrapper:hover .button-container {
            transform: translateY(0);
            opacity: 1;
        }

        button:not(.nav-button) {
            padding: 18px 40px;
            font-size: 18px;
            font-weight: 500;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            cursor: pointer;
            min-width: 220px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(15px);
            color: rgba(255, 255, 255, 0.9);
            box-shadow: 
                0 8px 32px rgba(31, 38, 135, 0.37),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
        }

        button:not(.nav-button):hover {
            background: rgba(255, 255, 255, 0.35);
            border: 1px solid rgba(255, 255, 255, 0.4);
            transform: translateY(-2px);
            box-shadow: 
                0 10px 40px rgba(31, 38, 135, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.6);
            color: rgba(255, 255, 255, 1);
        }
    </style>
</head>

<body>
    <div class="firework"></div>
    <div class="firework"></div>
    <div class="firework"></div>
    <div class="firework"></div>
    <div class="firework"></div>
    <div class="firework"></div>
    <div class="firework"></div>
    <div class="firework"></div>
    <div class="firework"></div>
    <div class="firework"></div>
    
    
    <div class="card-wrapper" id="cardWrapper">
        <div class="card">
            <div class="front">
                <img src="./cc.jpg" alt="Kate & Ken Wedding Invitation" class="front-image">
            </div>
            <div class="back">
                <div class="button-container">
                    <button class="google-map-btn" onclick="openGoogleMap()">Google Map</button>
                    <button class="guide-btn" onclick="openGuide()">Getting There</button>
                </div>
            </div>
        </div>
        <div class="swipe-hint">
            <svg viewBox="0 0 24 24">
                <path d="M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z"/>
            </svg>
        </div>
    </div>

    <script>
        const cardWrapper = document.getElementById('cardWrapper');
        
        // Add click/tap to flip functionality
        cardWrapper.addEventListener('click', function(e) {
            // Don't flip if clicking on buttons
            if (!e.target.closest('button')) {
                cardWrapper.classList.toggle('flipped');
            }
        });
        
        function flipCard() {
            cardWrapper.classList.toggle('flipped');
        }

        function openGoogleMap() {
            window.open('https://maps.app.goo.gl/UECrURv7Ngab3DUf9', '_blank');
        }
        
        function openGuide() {
            window.open('guide.pdf', '_blank');
        }

        // JavaScript Safe Area Detection and Dynamic Adjustment
        function getSafeAreaInsets() {
            const testElement = document.createElement('div');
            testElement.style.cssText = `
                position: fixed;
                top: env(safe-area-inset-top);
                right: env(safe-area-inset-right);
                bottom: env(safe-area-inset-bottom);
                left: env(safe-area-inset-left);
                pointer-events: none;
                visibility: hidden;
            `;
            document.body.appendChild(testElement);
            
            const computedStyle = getComputedStyle(testElement);
            const insets = {
                top: parseInt(computedStyle.top) || 0,
                right: parseInt(computedStyle.right) || 0,
                bottom: parseInt(computedStyle.bottom) || 0,
                left: parseInt(computedStyle.left) || 0
            };
            
            document.body.removeChild(testElement);
            return insets;
        }

        function applySafeAreaAdjustments() {
            const insets = getSafeAreaInsets();
            const root = document.documentElement;
            
            // Update CSS custom properties with detected values
            root.style.setProperty('--detected-safe-area-top', `${insets.top}px`);
            root.style.setProperty('--detected-safe-area-right', `${insets.right}px`);
            root.style.setProperty('--detected-safe-area-bottom', `${insets.bottom}px`);
            root.style.setProperty('--detected-safe-area-left', `${insets.left}px`);
            
            // Apply fallback positioning if safe areas are detected but CSS env() isn't working
            const mapButton = document.querySelector('.swipe-hint');
            const buttonContainer = document.querySelector('.button-container');
            
            if (mapButton && (insets.bottom > 0 || insets.right > 0)) {
                mapButton.style.bottom = `${Math.max(20, insets.bottom)}px`;
                mapButton.style.right = `${Math.max(20, insets.right)}px`;
            }
            
            if (buttonContainer && insets.bottom > 0) {
                buttonContainer.style.paddingBottom = `${Math.max(20, insets.bottom)}px`;
            }
            
            console.log('Safe area insets detected:', insets);
        }

        // Apply safe area adjustments on load and orientation change
        document.addEventListener('DOMContentLoaded', applySafeAreaAdjustments);
        window.addEventListener('orientationchange', () => {
            setTimeout(applySafeAreaAdjustments, 100);
        });
        window.addEventListener('resize', applySafeAreaAdjustments);

        // Prevent scrolling and zooming
        document.addEventListener('touchmove', function(e) {
            e.preventDefault();
        }, { passive: false });

        document.addEventListener('gesturestart', function(e) {
            e.preventDefault();
        });

        document.addEventListener('gesturechange', function(e) {
            e.preventDefault();
        });

        document.addEventListener('gestureend', function(e) {
            e.preventDefault();
        });

    </script>
</body>

</html>